"use strict";$(function(){function e(){var s=!1,r=$("input.user").val();return r?/^[a-zA-Z0-9_\u4e00-\u9fa5]{4,16}$/.test(r)?$.ajax({url:"http://139.9.177.51:3333/p2p/accrepeat",type:"post",async:!1,data:{username:$("input.user").val()},success:function(r){var e=r.code,r=r.msg;200===e?($("input.user").css({border:"2px solid green"}),$(".usermsg").html(""),s=!0):500===e&&$(".usermsg").css({color:"red"}).html(r)}}):($("input.user").css({border:"2px solid red"}),$(".usermsg").css({color:"red"}).html("4到16位（字母，数字，下划线，减号，中文）！")):($("input.user").css({border:"2px solid red"}),$(".usermsg").css({color:"red"}).html("用户名为空！")),s}function s(){var r=!1,e=$("input.pwd").val();return e?/^(\w){6,20}$/.test(e)?($("input.pwd").css({border:"2px solid green"}),$(".pwdmsg").html(""),r=!0):($("input.pwd").css({border:"2px solid red"}),$(".pwdmsg").css({color:"red"}).html("输入6-20个字母、数字、下划线！")):($("input.pwd").css({border:"2px solid red"}),$(".pwdmsg").css({color:"red"}).html("密码为空！")),r}function n(){var r=!1,e=$("input.email").val();return e?/^([a-zA-Z\d])(\w|\-)+@[a-zA-Z\d]+\.[a-zA-Z]{2,4}$/.test(e)?($("input.email").css({border:"2px solid green"}),$(".mailmsg").html(""),r=!0):($("input.email").css({border:"2px solid red"}),$(".mailmsg").css({color:"red"}).html("邮箱格式错误！")):($("input.email").css({border:"2px solid red"}),$(".mailmsg").css({color:"red"}).html("邮箱为空！")),r}function t(){var r=!1,e=$("input.nickname").val();return e?/^[a-zA-Z0-9_\u4e00-\u9fa5]{4,16}$/.test(e)?($("input.nickname").css({border:"2px solid green"}),$(".nicknamemsg").html(""),r=!0):($("input.nickname").css({border:"2px solid red"}),$(".nicknamemsg").css({color:"red"}).html("4到16位（字母，数字，下划线，减号，中文）！")):($("input.nickname").css({border:"2px solid red"}),$(".nicknamemsg").css({color:"red"}).html("昵称为空！")),r}$("input.user").on("blur",e),$("input.pwd").on("blur",s),$("input.email").on("blur",n),$("input.nickname").on("blur",t),$(".reg_btn").on("click",function(){var r=[e,s,n,t].map(function(r){return r()});console.log(r),r.every(function(r){return r})?$.ajax({url:"http://139.9.177.51:3333/p2p/reg",type:"post",data:{username:$("input.user").val(),pwd:$("input.pwd").val(),email:$("input.email").val(),nickname:$("input.nickname").val()},success:function(r){var e=r.code,r=r.msg;200===e?(alert(r),location.href="/login.html"):500===e&&alert(r)}}):alert("注册信息有误！")})});